<!-- Save the following into two separate files:
1) index.html (public ticket page)
2) concertedit.html (admin editor)
Both share config via localStorage key `choir_config_override`. -->


<!-- FILE: index.html -->
<!doctype html>
<html lang="en" class="scroll-smooth">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Laudem Dei Chamber Choir â€” Tickets</title>
<meta name="description" content="Buy tickets for Laudem Dei Chamber Choir. Mobile-friendly single-file page with mock checkout." />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<style>
html, body { font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial; }
.glass { background: rgba(255,255,255,.72); backdrop-filter: blur(12px); }
.ticket-card{ transition: box-shadow .2s ease, transform .2s ease; }
.ticket-card:active{ transform: translateY(1px); }
.safe-bottom { padding-bottom: env(safe-area-inset-bottom); }
.form-note { font-size: 11px; color: #64748b; }
</style>
</head>
<body class="bg-white text-slate-800">
<script>
// ---- Defaults (overridden by localStorage) ----
const DEFAULT_CONFIG = {
orgName: "Laudem Dei Chamber Choir",
logoUrl: "/mnt/data/462608521_122195237900072102_5674801301473007082_n.jpg",
event: {
id: "choir-2025-spring-concert",
title: "Spring Serenade Concert",
subtitle: "An evening of choral gems",
dateISO: "2025-10-11T18:30:00+02:00",
doorsISO: "2025-10-11T18:00:00+02:00",
venue: "St. Stithians Chapel",
address: "40 Peter Place, Lyme Park, Sandton, 2191",
mapLink: "https://maps.google.com/?q=St.+Stithians+Chapel+Sandton",
heroImg: "https://placehold.co/1200x800/png?text=Choir+Concert",
heroAlt: "Choir on stage"
},
tickets: [
{ code: "GEN", name: "General Admission", price: 20000, desc: "Unreserved seating", limit: 10 },
{ code: "STUD", name: "Student / Pensioner", price: 12000, desc: "ID required at door", limit: 10 },
{ code: "VIP", name: "Patron (Front Rows)", price: 35000, desc: "Priority seating + program", limit: 10 }
],
simulateCheckout: true,
currency: 'ZAR'
};


// Load persisted config, with merging
const CONFIG = (() => {
try {
const s = localStorage.getItem('choir_config_override');
if (!s) return structuredClone(DEFAULT_CONFIG);
const o = JSON.parse(s);
const base = structuredClone(DEFAULT_CONFIG);
Object.assign(base, o || {});
base.event = Object.assign({}, DEFAULT_CONFIG.event, o?.event || {});
base.tickets = Array.isArray(o?.tickets) ? o.tickets : DEFAULT_CONFIG.tickets;
return base;
} catch { return structuredClone(DEFAULT_CONFIG); }
})();
</script>


</html>
